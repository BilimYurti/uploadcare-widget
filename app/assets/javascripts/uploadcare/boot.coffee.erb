# = require ./namespace.coffee

# Save reference for further use
uc = uploadcare
uc.version = '<%= UploadcareWidget::VERSION %>'

try
  window.console?.log?(
    'We will stop maintain this version of widget after 1 Jan 2020,' +
    ' upgrade it please. Guide -> https://uploadcare.com/docs/file_uploads/widget/migration_v2_v3/'
  )

# Use local jQuery if exist, global otherwise
uc.jQuery = jQuery || window.jQuery

if typeof uc.jQuery == 'undefined'
    throw new ReferenceError('jQuery is not defined')

{expose} = uc

expose('version')
expose('jQuery')

expose 'plugin', (fn) ->
  fn(uc)
